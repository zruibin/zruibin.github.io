
<!DOCTYPE html>
<html lang="zh-CN">
<head> 
<title>iOS 简单的动画自定义方法（旋转、移动、闪烁等）与 如何让view只响应一个按钮 与 让自己开发的iOS App允许用户通过itunes共享文件 - Ruibin.Chow</title>


<link rel="shortcut icon" href="../vender/image/me.png" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta name="keywords" content="iOS 简单的动画自定义方法（旋转、移动、闪烁等）与 如何让view只响应一个按钮 与 让自己开发的iOS App允许用户通过itunes共享文件,iOS,Ruibin.Chow,zruibin,ruibin,RBCHOW" />
<meta name="description" content="iOS 简单的动画自定义方法（旋转、移动、闪烁等）与 如何让view只响应一个按钮 与 让自己开发的iOS App允许用户通过itunes共享文件" />
<meta name="COPYRIGHT" content="版权所有2010,http://private.zruibin.cn" />

<script type="text/javascript" charset="UTF-8">
var sourcePrefix = "../";
</script>
<script type="text/javascript" charset="UTF-8" src="../vender/js/seajs/sea.js"></script>
<script type="text/javascript" charset="UTF-8" src="../vender/js/seajs/seajs-css.js"></script>

</head>

<body style="visibility: hidden;">


<div id="navbar" >
    <div id="menu" class="container">
    <ul>
    <!-- <li><a href="#" class="item">Ruibin.Chow</a></li> -->
    <li><a href="../about.html" class="item">About Me</a></li>
    <li><a href="./index.html" class="item">Blog</a></li>
    <li><a class="item" href="../article/tags.html">Tags</a>
        &nbsp;
        <div class="subs" id="tags"></div> 
    </li>
    <li><a href="./archives.html" class="item">Archives</a></li>

    </ul>
    </div>
</div> 
<p></p>


<div class="container" id="content">

<div id='header'>
    <h2>iOS 简单的动画自定义方法（旋转、移动、闪烁等）与 如何让view只响应一个按钮 与 让自己开发的iOS App允许用户通过itunes共享文件</h2>
    <footer>
        Date:<span id='create_time'>
            2015-04-14 14:30
        </span>
        &nbsp;
        Tags: 
<span id='article_tags'>
         
<a href='../article/tag_ios.html' class='article_tag'>iOS</a>

</span>

    </footer>
    <hr/>
</div>

<p><a href='http://www.cnblogs.com/kenshincui/p/3972100.html' target='blank'>iOS核心动画</a></p>
<div class="highlight"><pre><code><span></span><span class="cp">#define kDegreesToRadian(x) (M_PI * (x) / 180.0)</span>

<span class="cp">#define kRadianToDegrees(radian) (radian*180.0)/(M_PI)</span>

<span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="n">superviewDidLoad</span><span class="p">];</span>
<span class="w">    </span><span class="n">self</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">@</span><span class="s">&quot;测试动画&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">UIColorlightGrayColor</span><span class="p">];</span>


<span class="w">    </span><span class="n">myTest1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">UILabelalloc</span><span class="p">]</span><span class="n">initWithFrame</span><span class="o">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">)];</span>
<span class="w">    </span><span class="n">myTest1</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">UIColorblueColor</span><span class="p">];</span>
<span class="w">    </span><span class="n">myTest1</span><span class="p">.</span><span class="n">textAlignment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSTextAlignmentCenter</span><span class="p">;</span>
<span class="w">    </span><span class="n">myTest1</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">@</span><span class="s">&quot;Test...&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">myTest1</span><span class="p">.</span><span class="n">textColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">UIColorwhiteColor</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">viewaddSubview</span><span class="o">:</span><span class="n">myTest1</span><span class="p">];</span>

<span class="w">      </span><span class="c1">//闪烁效果。</span>
<span class="c1">//    [myTest1.layer addAnimation:[self opacityForever_Animation:0.5] forKey:nil];</span>
<span class="w">      </span><span class="c1">///移动的动画。</span>
<span class="c1">//    [myTest1.layer addAnimation:[self moveX:1.0f X:[NSNumber numberWithFloat:200.0f]] forKey:nil];</span>
<span class="w">    </span><span class="c1">//缩放效果。</span>
<span class="c1">//    [myTest1.layer addAnimation:[self scale:[NSNumber numberWithFloat:1.0f] orgin:[NSNumber numberWithFloat:3.0f] durTimes:2.0f Rep:MAXFLOAT] forKey:nil];</span>
<span class="w">     </span><span class="c1">//组合动画。</span>
<span class="c1">//    NSArray *myArray = [NSArray arrayWithObjects:[self opacityForever_Animation:0.5],[self moveX:1.0f X:[NSNumber numberWithFloat:200.0f]],[self scale:[NSNumber numberWithFloat:1.0f] orgin:[NSNumber numberWithFloat:3.0f] durTimes:2.0f Rep:MAXFLOAT], nil];</span>
<span class="c1">//    [myTest1.layer addAnimation:[self groupAnimation:myArray durTimes:3.0f Rep:MAXFLOAT] forKey:nil];</span>
<span class="w">    </span><span class="c1">//路径动画。</span>
<span class="c1">//    CGMutablePathRef myPah = CGPathCreateMutable();</span>
<span class="c1">//    CGPathMoveToPoint(myPah, nil,30, 77);</span>
<span class="c1">//    CGPathAddCurveToPoint(myPah, nil, 50, 50, 60, 200, 200, 200);//这里的是控制点。</span>
<span class="c1">//    [myTest1.layer addAnimation:[self keyframeAnimation:myPah durTimes:5 Rep:MAXFLOAT] forKey:nil];</span>
<span class="w">    </span><span class="c1">//旋转动画。</span>
<span class="w">    </span><span class="p">[</span><span class="n">myTest1</span><span class="p">.</span><span class="n">layeraddAnimation</span><span class="o">:</span><span class="p">[</span><span class="n">selfrotation</span><span class="o">:</span><span class="mi">2</span><span class="n">degree</span><span class="o">:</span><span class="n">kRadianToDegrees</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span><span class="n">direction</span><span class="o">:</span><span class="mi">1</span><span class="n">repeatCount</span><span class="o">:</span><span class="n">MAXFLOAT</span><span class="p">]</span><span class="w"> </span><span class="n">forKey</span><span class="o">:</span><span class="n">nil</span><span class="p">];</span>


<span class="p">}</span>

<span class="cp">#pragma mark === 永久闪烁的动画 ======</span>
<span class="o">-</span><span class="p">(</span><span class="n">CABasicACnimation</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">opacityForever_Animation</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">time</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="n">animation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CABasicAnimationanimationWithKeyPath</span><span class="o">:</span><span class="err">@</span><span class="s">&quot;opacity&quot;</span><span class="p">];</span><span class="c1">//必须写opacity才行。</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fromValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">NSNumbernumberWithFloat</span><span class="o">:</span><span class="mf">1.0f</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">toValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">NSNumbernumberWithFloat</span><span class="o">:</span><span class="mf">0.0f</span><span class="p">];</span><span class="c1">//这是透明度。</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">autoreverses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YES</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">repeatCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MAXFLOAT</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">removedOnCompletion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fillMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kCAFillModeForwards</span><span class="p">;</span>
<span class="w">     </span><span class="n">animation</span><span class="p">.</span><span class="n">timingFunction</span><span class="o">=</span><span class="p">[</span><span class="n">CAMediaTimingFunctionfunctionWithName</span><span class="o">:</span><span class="n">kCAMediaTimingFunctionEaseIn</span><span class="p">];</span><span class="c1">///没有的话是均匀的动画。</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">animation</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma mark =====横向、纵向移动===========</span>
<span class="o">-</span><span class="p">(</span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">moveX</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">time</span><span class="w"> </span><span class="n">X</span><span class="o">:</span><span class="p">(</span><span class="n">NSNumber</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">x</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="n">animation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CABasicAnimationanimationWithKeyPath</span><span class="o">:</span><span class="err">@</span><span class="s">&quot;transform.translation.x&quot;</span><span class="p">];</span><span class="c1">///.y的话就向下移动。</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">toValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">removedOnCompletion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span><span class="c1">//yes的话，又返回原位置了。</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">repeatCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MAXFLOAT</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fillMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kCAFillModeForwards</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">animation</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma mark =====缩放-=============</span>
<span class="o">-</span><span class="p">(</span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">scale</span><span class="o">:</span><span class="p">(</span><span class="n">NSNumber</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">Multiple</span><span class="w"> </span><span class="n">orgin</span><span class="o">:</span><span class="p">(</span><span class="n">NSNumber</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">orginMultiple</span><span class="w"> </span><span class="n">durTimes</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">time</span><span class="w"> </span><span class="n">Rep</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">repertTimes</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="n">animation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CABasicAnimationanimationWithKeyPath</span><span class="o">:</span><span class="err">@</span><span class="s">&quot;transform.scale&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fromValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Multiple</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">toValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orginMultiple</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">autoreverses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YES</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">repeatCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repertTimes</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">;</span><span class="c1">//不设置时候的话，有一个默认的缩放时间.</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">removedOnCompletion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fillMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kCAFillModeForwards</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w">  </span><span class="n">animation</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma mark =====组合动画-=============</span>
<span class="o">-</span><span class="p">(</span><span class="n">CAAnimationGroup</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">groupAnimation</span><span class="o">:</span><span class="p">(</span><span class="n">NSArray</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">animationAry</span><span class="w"> </span><span class="n">durTimes</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">time</span><span class="w"> </span><span class="n">Rep</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">repeatTimes</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CAAnimationGroup</span><span class="w"> </span><span class="o">*</span><span class="n">animation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CAAnimationGroupanimation</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">animations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animationAry</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">removedOnCompletion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">repeatCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repeatTimes</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fillMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kCAFillModeForwards</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">animation</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma mark =====路径动画-=============</span>
<span class="o">-</span><span class="p">(</span><span class="n">CAKeyframeAnimation</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">keyframeAnimation</span><span class="o">:</span><span class="p">(</span><span class="n">CGMutablePathRef</span><span class="p">)</span><span class="n">path</span><span class="w"> </span><span class="n">durTimes</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">time</span><span class="w"> </span><span class="n">Rep</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">repeatTimes</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CAKeyframeAnimation</span><span class="w"> </span><span class="o">*</span><span class="n">animation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CAKeyframeAnimationanimationWithKeyPath</span><span class="o">:</span><span class="err">@</span><span class="s">&quot;position&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">removedOnCompletion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fillMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kCAFillModeForwards</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">timingFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CAMediaTimingFunctionfunctionWithName</span><span class="o">:</span><span class="n">kCAMediaTimingFunctionEaseIn</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">autoreverses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">repeatCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repeatTimes</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">animation</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma mark ====旋转动画======</span>
<span class="o">-</span><span class="p">(</span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">rotation</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">dur</span><span class="w"> </span><span class="n">degree</span><span class="o">:</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">degree</span><span class="w"> </span><span class="n">direction</span><span class="o">:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">direction</span><span class="w"> </span><span class="n">repeatCount</span><span class="o">:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">repeatCount</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CATransform3D</span><span class="w"> </span><span class="n">rotationTransform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CATransform3DMakeRotation</span><span class="p">(</span><span class="n">degree</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">direction</span><span class="p">);</span>
<span class="w">    </span><span class="n">CABasicAnimation</span><span class="w"> </span><span class="o">*</span><span class="n">animation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">CABasicAnimationanimationWithKeyPath</span><span class="o">:</span><span class="err">@</span><span class="s">&quot;transform&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">toValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">NSValue</span><span class="w"> </span><span class="n">valueWithCATransform3D</span><span class="o">:</span><span class="n">rotationTransform</span><span class="p">];</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="w">  </span><span class="o">=</span><span class="w">  </span><span class="n">dur</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">autoreverses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">cumulative</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">fillMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kCAFillModeForwards</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">repeatCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repeatCount</span><span class="p">;</span>
<span class="w">    </span><span class="n">animation</span><span class="p">.</span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">animation</span><span class="p">;</span>

<span class="p">}</span>
</code></pre></div>
<p><br/><hr><br/></p>
<h3>如何让view只响应一个按钮</h3>
<p>一些应用经常会在一个view上放多个按钮，比如登录页面，就会有注册与登录按钮。理论上讲注册和登录按钮是不能同时按下的，但是如果你同时按下这两个按钮，这两个东东都会显示响应高亮状态，其结果就不可预知了。这种情况经常会被测试童鞋当成bug如何让view只响应一个按钮 - 杨叫兽 - 青青子衿 悠悠我心。</p>
<p>其实UIView类属性有个exclusiveTouch属性，表示是否该view响应触摸是排他的。默认的设置是NO，即不排他。如果想让按钮排他响应，只需将按钮的exclusiveTouch设置为YES即可。</p>
<p>实际编程中我一般会在viewDidLoad方法中对self.view中的subview进行遍历，如果是按钮对象就将它的exclusiveTouch属性设为YES。</p>
<p>示例代码：</p>
<div class="highlight"><pre><code><span></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">subview</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">subviews</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">subview</span><span class="w"> </span><span class="n">isKindOfClass</span><span class="o">:</span><span class="p">[</span><span class="n">UIButton</span><span class="w"> </span><span class="n">class</span><span class="p">]])</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">subview</span><span class="p">.</span><span class="n">exclusiveTouch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YES</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>另外说明：手势识别会忽略exclusiveTouch设置。详见苹果官方例子：SimpleGestureRecognizers。</p>
<p><br/><hr><br/></p>
<h3>让自己开发的iOS App允许用户通过itunes共享文件</h3>
<p>如果我们想在自己开发的应用中，支持这个服务，就需要在应用程序的配置文件也就是plist文件中</p>
<p>添加Application supports iTunes file sharing，设置为YES。</p>


<br/>
<br/>
<p></p>


<!-- Share BEGIN -->
<div id="share"></div>
<!-- Share END -->


<br/>


<!-- 评论 start -->
<div id="comment"></div>
<!-- 评论 end -->

<!-- CopyRight BEGIN -->
<div id="copyright" ></div>
<!-- CopyRight END -->


</body>

<script>
var sourceFile = "iOS 简单的动画自定义方法（旋转、移动、闪烁等）与 如何让view只响应一个按钮 与 让自己开发的iOS App允许用户通过itunes共享文件.md";
</script>

<script charset="UTF-8" src="../vender/js/loaded.js"></script>

</html>
